<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile" contentType="text/html"
	renderKitId="PRIMEFACES_MOBILE">
<f:view>
	<pm:page>
		<pm:view>
			<ui:include src="../pages/common/headerScript.xhtml"></ui:include>
			<script src="../resources/js/jquery.min.js"></script>
			<h:head>
				<script>
					function get(){
								 var url = $(location).attr('href');
								var spliturl=url.split("?")[1];
								var rideId=spliturl.split("&#038;")[0].split("=")[1];
								var verificationcode=spliturl.split("&#038;")[1].split("=")[1];
								var approve=spliturl.split("&#038;")[2].split("=")[1];
								var approveId=spliturl.split("&#038;")[3].split("=")[1];
								var approverEmailId=spliturl.split("&#038;")[4].split("=")[1];
								
								$("#inputform\\:rideId").val(rideId);
								$("#inputform\\:verificationcode").val(verificationcode);
								$("#inputform\\:approve").val(approve);
								$("#inputform\\:approverId").val(approveId);
								$("#inputform\\:approverEmailId").val(approverEmailId);
								
								$("#inputform\\:btn").trigger('click');
								
								alert(rideId+"|"+verificationcode+"|"+approve+"|"+approveId+"|"+approverEmailId);
								return;
					}
				</script>
			</h:head>

			 <h:body onload="return get();">
				<ui:include src="../pages/common/headerContent.xhtml"></ui:include> 
				<!-- <c:set value=return get(); var="email" scope="session"></c:set> -->
				
				<div class="content">
					<div class="container">
					
						<h:form id="inputform">
							<h:commandButton action="#{userAction.approverRide}" id="btn" style="background:#fff;border:none;" ></h:commandButton>
							
						<h:inputHidden id="rideId" value="#{userAction.approverRideDTO.rideId}"></h:inputHidden>
						<h:inputHidden id="verificationcode" value="#{userAction.approverRideDTO.verificationCode}"></h:inputHidden>
						<h:inputHidden id="approve" value="#{userAction.approverRideDTO.approve}"></h:inputHidden>
					    <h:inputHidden id="approverId" value="#{userAction.approverRideDTO.approverId}"></h:inputHidden>
						<h:inputHidden id="approverEmailId" value="#{userAction.approverRideDTO.approverEmailId}"></h:inputHidden>
						</h:form>
						
						<center> <h3 >Verifying....</h3></center>
						
					</div>
				</div>
				<ui:include src="../pages/common/footer-content.xhtml"></ui:include>

			</h:body>
		</pm:view>
	</pm:page>
</f:view>
</html>